<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>管理后台</title>
    <link href="./css/bootstrap-all.css" rel="stylesheet">
    <link href="./css/admin.css" rel="stylesheet">
</head>

<body>
<div id="app">
    <navbar-fixed-top :brand="brand" :menus="menus"></navbar-fixed-top>

    <div class="container" id="app-container">
        <router-view></router-view>
    </div>
</div>
</body>

<script src="./js/common/vue.js"></script>
<script src="./js/common/vue-router.js"></script>

<!----------vue2组件--导航栏---------->
<template id="template-navbar-fixed-top">
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" v-on:click="handleToggleClick">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">{{brand}}</a>
            </div>
            <div class="navbar-collapse collapse" v-bind:class="{in:toggled}">
                <ul class="nav navbar-nav">
                    <li v-for="menu in menus" v-on:click="handleMenuClick">
                        <a :href="menu.path">{{menu.label}}</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</template>
<script>
    Vue.component("navbar-fixed-top", {
        template: "#template-navbar-fixed-top",
        props: ["brand", "menus"],
        data: function () {
            return {
                toggled: false
            }
        },
        methods: {
            handleToggleClick: function () {
                this.toggled = !this.toggled;
            },
            handleMenuClick: function (event) {
                this.toggled = false;
            }
        }
    });
</script>
<!----------vue2组件--导航栏---------->


<!----------拍卖管理页面---------->
<template id="template-auction-manage">
    <div>拍卖管理页面</div>
</template>
<script>
    var auctionManage = {
        template: "#template-auction-manage"
    };
</script>
<!----------拍卖管理页面---------->

<!----------订单管理页面---------->
<template id="template-order-manage">
    <div>订单管理页面</div>
</template>
<script>
    var orderManage = {
        template: "#template-order-manage"
    };
</script>
<!----------订单管理页面---------->

<!----------用户管理页面---------->
<template id="template-user-manage">
    <div>用户管理页面</div>
</template>
<script>
    var userManage = {
        template: "#template-user-manage"
    };
</script>
<!----------用户管理页面---------->

<script>
    var menusConfig = [
        {path: "/auctionManage", label: "拍卖管理", component: auctionManage, isRootPath: true},
        {path: "/orderManage", label: "订单管理", component: orderManage},
        {path: "/userManage", label: "用户管理", component: userManage}
    ];

    var menus = [];
    var routerConfig = [];
    menusConfig.forEach(function (menuConfig) {
        menus.push({
            path: "#" + menuConfig.path,
            label: menuConfig.label
        });
        routerConfig.push({
            path: menuConfig.path,
            component: menuConfig.component
        });
        if (menuConfig.isRootPath) {
            routerConfig.push({
                path: "/",
                redirect: menuConfig.path
            });
        }
    });

    var app = new Vue({
        el: "#app",
        data: {
            brand: "拍卖管理系统",
            menus: menus
        },
        router: new VueRouter({
            routes: routerConfig
        })
    });
</script>
</html>
